var route=function(f){"use strict";f=f&&f.hasOwnProperty("default")?f["default"]:f;var e=function(o){o=o||{};var u={},s=Array.prototype.slice;Object.defineProperties(o,{on:{value:function(e,t){if(typeof t=="function"){(u[e]=u[e]||[]).push(t)}return o},enumerable:false,writable:false,configurable:false},off:{value:function(e,t){if(e=="*"&&!t){u={}}else{if(t){var n=u[e];for(var r=0,i;i=n&&n[r];++r){if(i==t){n.splice(r--,1)}}}else{delete u[e]}}return o},enumerable:false,writable:false,configurable:false},one:{value:function(e,t){function n(){o.off(e,n);t.apply(o,arguments)}return o.on(e,n)},enumerable:false,writable:false,configurable:false},trigger:{value:function(e){var t=arguments;var n=arguments.length-1,r=new Array(n),i,a,f;for(f=0;f<n;f++){r[f]=t[f+1]}i=s.call(u[e]||[],0);for(f=0;a=i[f];++f){a.apply(o,r)}if(u["*"]&&e!="*"){o.trigger.apply(o,["*",e].concat(r))}return o},enumerable:false,writable:false,configurable:false}});return o};var n=/^.+?\/\/+[^/]+/,t="EventListener",r="remove"+t,i="add"+t,a="hasAttribute",o="popstate",u="hashchange",s="trigger",c=3,l=typeof window!="undefined"&&window,h=typeof document!="undefined"&&document,p=l&&history,d=l&&(p.location||l.location),v=P.prototype,g=h&&h.ontouchstart?"touchstart":"click",m=e();var y=false,w=false,b,x,A,O,$,N=[],S=0;function E(e){return e.split(/[/?#]/)}function T(e,t){var n=t.match(/\/:(\w+)/g);var r=t.replace(/\?/g,"\\?").replace(/\*/g,"([^/?#]+?)").replace(/\.\./,".*").replace(/\/:\w+/g,"(\\/[a-zA-Z0-9_\\-\\+=:\\(\\)\\[\\]\\s+]+|)");var i=new RegExp("^"+r+"$");var a=e.match(i);if(a){if(n){var f={};for(var o=0;o<n.length;o++){var u=a[o+1];if(u.length>0){f[n[o].substring(2)]=a[o+1].substring(1)}}return f}return a.slice(1)}}function j(e,t){var n;return function(){clearTimeout(n);n=setTimeout(e,t)}}function K(e){b=j(D,1);l[i](o,b);l[i](u,b);h[i](g,L);if(e){D(true)}}function P(){this.$=[];e(this);m.on("stop",this.s.bind(this));m.on("emit",this.e.bind(this))}function _(e){return e.replace(/^\/|\/$/,"")}function k(e){return typeof e=="string"}function q(e){return(e||d.href).replace(n,"")}function z(e){return x[0]==="#"?(e||d.href||"").split(x)[1]||"":(d?q(e):e||"").replace(x,"")}function D(t){var e=S===0;if(c<=S){return}S++;N.push(function(){var e=z();if(t||e!==A){m[s]("emit",e);A=e}});if(e){var n;while(n=N.shift()){n()}S=0}}function L(e){if(e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented){return}var t=e.target;while(t&&t.nodeName!=="A"){t=t.parentNode}if(!t||t.nodeName!=="A"||t[a]("download")||!t[a]("href")||t.target&&t.target!=="_self"||t.href.indexOf(d.href.match(n)[0])===-1){return}if(t.href!==d.href&&(t.href.split("#")[0]===d.href.split("#")[0]||x[0]!=="#"&&q(t.href).indexOf(x)!==0||x[0]==="#"&&t.href.split(x)[0]!==d.href.split(x)[0]||!R(z(t.href),t.title||h.title))){return}e.preventDefault()}function R(e,t,n){if(!p){return m[s]("emit",z(e))}e=x+_(e);t=t||h.title;n?p.replaceState(null,t,e):p.pushState(null,t,e);h.title=t;w=false;D();return w}v.m=function(e,t,n){if(k(e)&&(!t||k(t))){R(e,t,n||false)}else if(t){this.r(e,t)}else{this.r("@",e)}};v.s=function(){this.off("*");this.$=[]};v.e=function(n){this.$.concat("@").some(function(e){var t=(e==="@"?O:$)(_(n),_(e));if(typeof t!="undefined"){this[s].apply(null,[e].concat(t));return w=true}},this)};v.r=function(e,t){if(e!=="@"){e="/"+_(e);this.$.push(e)}this.on(e,t)};var W=new P;var Z=W.m.bind(W);Z.create=function(){var e=new P;var t=e.m.bind(e);t.stop=e.s.bind(e);return t};Z.base=function(e){x=e||"#";A=z()};Z.exec=function(){D(true)};Z.parser=function(e,t){if(!e&&!t){O=E;$=T}if(e){O=e}if(t){$=t}};Z.query=function(){var r={};var e=d.href||A;e.replace(/[?&](.+?)=([^&]*)/g,function(e,t,n){r[t]=n});return r};Z.stop=function(){if(y){if(l){l[r](o,b);l[r](u,b);h[r](g,L)}m[s]("stop");y=false}};Z.start=function(e){if(!y){if(l){if(document.readyState==="interactive"||document.readyState==="complete"){K(e)}else{document.onreadystatechange=function(){if(document.readyState==="interactive"){setTimeout(function(){K(e)},1)}}}}y=true}};Z.base();Z.parser();f.tag2("router","<yield></yield>","","",function(e){var t=this;this.route=Z.create();this.select=function(e){if(e.show){t.parent.update();t.trigger("change",e);return}t.tags.route.forEach(function(e){e.show=false});t.parent.update();e.show=true;t.parent.update();t.trigger("change",e)};this.on("mount",function(){window.setTimeout(function(){return Z.start(true)},0)});this.on("unmount",function(){t.route.stop()})});f.tag2("route",'<virtual if="{show}"><yield></yield></virtual>',"","",function(e){var r=arguments;var i=this;if(this.parent&&this.parent.parent){var t=f.util.misc.extend(Object.create(this),this.parent.parent);for(var n in t){if(!isNaN(n)){delete t[n]}else if(n.startsWith("_")){t[n.substring(1)]=t[n];delete t[n]}}f.util.misc.extend(this,t)}this.show=false;this.parent.route(e.path,function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(i.parent.opts.interceptor){i.parent.opts.interceptor(i.opts).then(function(e){if(e){i.complete(t)}})}else{i.complete(t)}});this.complete=function(e){if(e.length==1){t=e[0]}else{var t=[],n=e.length;while(n--){t[n]=r[n]}}i.on("updated",function(){var e=a(i.tags);if(e.length>0){i.off("updated");e.forEach(function(e){e.trigger.apply(e,["route"].concat(t))})}});i.parent.select(i)};function a(t){return Object.keys(t).map(function(e){return t[e]}).reduce(function(e,t){return e.concat(t)},[])}});return Z}(riot);